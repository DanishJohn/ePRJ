@model IEnumerable<ePRJ.Models.Account>

@{
    ViewBag.Title = "Accounts";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h2>Accounts</h2>
@section body{
    <p>
        @Html.ActionLink("Create New", "CreateAccount")
    </p>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.UserEmail)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UserFullName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UserAddress)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UserStatus)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UserRole)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.UserEmail)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.UserFullName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.UserAddress)
        </td>
        @if (item.UserStatus)
        {
            <td>
                Active
            </td>
        }
        else
        {
            <td>
                Disabled
            </td>
        }

        <td>
            @Html.DisplayFor(modelItem => item.UserRole)
        </td>
        <td>
            @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
            @if (User.IsInRole("Admin"))
            {
                @Html.ActionLink("Disable", "DisableAcc", new { id = item.UserEmail + "/" })
            }
        </td>
    </tr>
        }

    </table>
}

